<div class="container">
  <div class="form-container">
    <h4 class="text-center mb-4">Book a Consultation</h4>
    <div *ngIf="submitted && !loading" class="card p-3 text-center shadow-sm">
      <h5 class="text-success">âœ… Thank you for booking!</h5>
      <p>We will get back to you shortly.</p>
    </div>

    <form #bookingForm="ngForm" *ngIf="!submitted" (ngSubmit)="onSubmit(bookingForm)">
      <div class="form-group">
        <label for="name">Name:</label>
        <input
          class="form-control"
          type="text"
          name="name"
          id="name"
          ngModel
          required
          placeholder="Name"
        />
      </div>

      <div class="form-group">
        <label for="contact_number">Contact Number:</label>
        <input
          class="form-control"
          type="text"
          name="contact_number"
          id="contact_number"
          ngModel
          required
          placeholder="Contact Number"
        />
      </div>

      <div class="form-group">
        <label for="gender">Gender:</label>
        <select class="form-control" name="gender" id="gender" ngModel required>
          <option value="" disabled selected hidden>Choose...</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
      </div>

      <div class="form-group">
        <label for="age">Age:</label>
        <input
          class="form-control"
          type="text"
          name="age"
          id="age"
          ngModel
          required
          placeholder="Age"
        />
      </div>

      <div class="form-group">
        <label for="message">Message:</label>
        <textarea
          class="form-control"
          name="message"
          id="message"
          ngModel
          required
          placeholder="Message"
        ></textarea>
      </div>

      <div class="form-group form-check">
        <input
          class="form-check-input"
          type="checkbox"
          id="ex"
          [(ngModel)]="formData.ex"
          name="ex"
          required
        />
        <label class="form-check-label" for="ex">
          By checking this box I certify that I agree with the data terms and policies.
        </label>
      </div>

      <!-- Button with spinner -->
      <button type="submit" class="btn btn-primary btn-block" [disabled]="loading">
        <span *ngIf="!loading">Submit</span>
        <span *ngIf="loading" class="spinner-border spinner-border-sm"></span>
        <span *ngIf="loading"> Submitting...</span>
      </button>
    </form>
  </div>
</div>
